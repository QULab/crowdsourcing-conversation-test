<html lang="en">

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=yes, initial-scale=1, maximum-scale=1">
    <meta name="mobile-web-app-capable" content="yes">
    <meta id="theme-color" name="theme-color" content="#ffffff">

    <title>Conversation Test U-F</title>
    <link rel="apple-touch-icon" sizes="180x180" href="assets/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16x16.png">
    <link rel="manifest" href="assets/site.webmanifest">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="main.css" />

</head>

<body>

    <div id="container" class="container">
        <div class="row h-100">
            <div class="col-sm-12 my-auto">
                <h1 class="text-center">Conversation Test</h1>
                <div class="instructions">
                    <div class="card border-dark mb-3" style="margin-top: 30px">
                        <div class="card-body text-dark">
                            <h5 class="card-title text-center"><b>Instructions</b></h5>
                            <p class="">
                                The Test requires media permissions from browser,
                                so please allow microphone settings when prompted by the browser.<br />
                                For the research purposes, your audio maybe recorded and used to determine
                                quality of the audio conversation.
                            </p>
                            <p class="">
                                Please click the <b>Start button</b> and listen to the audio played carefully.
                                After the audio is completely played, please select the rating for question about the
                                quality of the audio and click submit answer button. After answer is submitted you will
                                be provided with a <b>Verification code</b>, please copy the code and paste it to
                                <b>Amazon Mechanical Turk</b>.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="card border-light mb-3">
                    <div id="audio" class="card-body text-dark">
                        <div style="display: none">
                            <div class="label">Local audio:</div>
                            <audio id="audio1" autoplay controls muted></audio>
                        </div>
                        <div>
                            <!-- <div class="label">Remote audio:</div> -->
                            <audio id="audio2" autoplay controls></audio>
                        </div>
                    </div>

                    <div id="buttons">
                        <!-- <select id="codec"> -->
                        <!-- Codec values are matched with how they appear in the SDP.
                                                                                For instance, opus matches opus/48000/2 in Chrome, and ISAC/16000
                                                                                matches 16K iSAC (but not 32K iSAC). -->
                        <!-- <option value="opus">Opus</option>
                                                                                <option value="ISAC">iSAC 16K</option>
                                                                                <option value="G722">G722</option>
                                                                                <option value="PCMU">PCMU</option>
                                                                            </select> -->
                        <button id="callButton" class="btn btn-outline-success text-center">Start</button>
                        <!-- <button id="hangupButton" class="btn btn-outline-danger">Hang Up</button> -->
                    </div>
                </div>

                <!-- <div class="graph-container" id="bitrateGraph">
                                        <div>Bitrate</div>
                                        <canvas id="bitrateCanvas"></canvas>
                                    </div>
                                    <div class="graph-container" id="packetGraph">
                                        <div>Packets sent per second</div>
                                        <canvas id="packetCanvas"></canvas>
                                    </div>
                                </div>
                                <table>
                                    <caption>Bitrate and Packes sent per second - approximate results in browsers</caption>
                                    <tr>
                                        <th>Opus</th>
                                        <th>iSAC 16K</th>
                                        <th>G722</th>
                                        <th>PCMU</th>
                                        <th>Browsers Tested</th>
                                    </tr>
                                    <tr>
                                        <td>~40 kbps / Muted : Same, ~50 Packets, Muted : Same or slight drop</td>
                                        <td>~30 kbps / Muted : Same, ~33 Packets, Muted : Same or slight drop</td>
                                        <td>~70 kbps / Muted : Same, ~50 Packets, Muted : Same</td>
                                        <td>~70 kbps / Muted : Same, ~55 Packets, Muted : Same</td>
                                        <td>Tested in Chrome, Not tested in Opera, Firefox, Safari, Edge</td>
                                    </tr>
                                </table> -->
                <!-- <table id="table-stats" style="margin-top: 20pt;">
                    <tbody>
                        <tr>
                            <td>Round Trip Time: </td>
                            <td>
                                <span id="audio-latency"></span><br>
                            </td>
                        </tr>

                        <tr>
                            <td>packetsLost: </td>
                            <td>
                                <span id="audio-packetsLost"></span><br>
                            </td>
                        </tr>

                        <tr>
                            <td>Average Round Trip Time: </td>
                            <td>
                                <span id="audio-averageLatency"></span><br>
                            </td>
                        </tr>
                    </tbody>

                </table> -->
                <!-- <hr> -->

                <!-- Modal verification code -->
                <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog"
                    aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Thank you for the Participation<br />
                                    Please copy and paste the verification code to mTurk platform.
                                </h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body" id="myModalBody">
                                <div id="modalBodyMessage">
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button id="copy" data-clipboard-target="#verificationCode"
                                    class="btn btn-secondary mr-auto">
                                    Copy</button>
                                <button type="button" id="modalButton" class="btn btn-secondary"
                                    data-dismiss="modal">Close</button>
                                <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
                            </div>
                        </div>
                    </div>
                </div>

                <div class="question card border-light mb-3">
                    <div class="card-body text-dark">
                        <form id="question">
                            <h6 class="card-title">1. How do you rate the <b>overall quality</b> of the speech sample
                                played?</h6>
                            <table class="table table-borderless">
                                <thead>
                                    <tr>
                                        <th scope="col">Quality of the Speech</th>
                                        <th scope="col">Score</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>
                                            <label for="Excellent"><input type="radio" name="rating" id=""
                                                    value="Excellent" required>
                                                Excellent</label></td>
                                        <td>5</td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <label for="Good"><input type="radio" name="rating" id="" value="Good">
                                                Good</label> </td>
                                        <td>4</td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <label for="Fair"><input type="radio" name="rating" id="" value="Fair">
                                                Fair</label></td>
                                        <td>3</td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <label for="Poor"><input type="radio" name="rating" id="" value="Poor">
                                                Poor</label></td>
                                        <td>2</td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <label for="Poor"><input type="radio" name="rating" id="" value="Bad">
                                                Bad</label></td>
                                        <td>1</td>
                                    </tr>
                                </tbody>
                            </table>
                            <button type="submit" id="answerButton" class="btn btn-outline-success"
                                onclick="answer()">Submit</button>
                        </form>
                    </div>
                </div>

            </div>
        </div>

        <!-- Optional JavaScript -->
        <!-- jQuery first, then Popper.js, then Bootstrap JS -->
        <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
            integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
            crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
            integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
            crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js">
        </script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
            integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
            crossorigin="anonymous"></script>
        <script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/core.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/md5.js"></script>
        <script src="../assets//md5.min.js"></script>
        <script src="main.js"></script>
</body>

</html>